### --------------------------- 1. 환경 및 공통 변수 정의 ---------------------------

@host = http://localhost:8080
@user_id = 1
@hacker_id = 2
@guest_pw = guest_secure_pw

# 인증 정보
@user_token = dGVzdF91c2VyOnBhc3N3b3Jk
@hacker_token = aGFja2VyX3VzZXI6cGFzc3dvcmQ=
@admin_token = YWRtaW5fdXNlcjpwYXNzd29yZA==

@recipient_phone = 01012345678
### 2. [POST] 회원 주문 생성

POST {{host}}/api/orders
Content-Type: application/json
Authorization: Basic {{user_token}}

{
  "userId": {{user_id}},
  "orderItems": [
    {
      "bookId": 20,
      "quantity": 2,
      "wrappingPaperId": 5,
      "isWrapped": true
    },
    {
      "bookId": 30,
      "quantity": 1,
      "wrappingPaperId": null,
      "isWrapped": false
    }
  ],
  "deliveryAddress": {
    "deliveryAddress": "서울특별시 강남구 테헤란로",
    "deliveryAddressDetail": "NHN 아카데미",
    "deliveryMessage": "문 앞에 보관 요청",
    "recipient": "홍길동",
    "recipientPhonenumber": "{{recipient_phone}}"
  }
}

@order_id = {{ $response.body.orderId }}


### 3. [GET] 회원 내 주문 목록 조회

GET {{host}}/api/orders?page=0&size=5&sort=orderDatetime,desc
Authorization: {{user_token}}



### 4. [GET] 회원 내 주문 상세 조회

GET {{host}}/api/orders/{{order_id}}
Authorization: {{user_token}}



### 5. [PATCH] 회원 주문 취소

PATCH {{host}}/api/orders/{{order_id}}
Content-Type: application/json
Authorization: {{user_token}}

{
  "cancelReason": "상품이 필요 없어짐",
  "refundBankName": "KB국민은행",
  "refundAccountNumber": "1234567890"
}



### 6. [GET] 권한 없음 테스트

GET {{host}}/api/orders/{{order_id}}
Authorization: {{hacker_token }}
